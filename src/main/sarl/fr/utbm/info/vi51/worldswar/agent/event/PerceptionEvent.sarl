package fr.utbm.info.vi51.worldswar.^agent.^event

import fr.utbm.info.vi51.worldswar.^agent.AntAgent
import fr.utbm.info.vi51.worldswar.environment.Environment
import fr.utbm.info.vi51.worldswar.perception.AntPerception
import io.sarl.lang.core.Address
import java.util.UUID
import java.util.HashMap

/**
 * Event emitted by the {@link Environment} to a specific {@link AntAgent}.
 * Contains the agent's perceptions for the current step, and triggers the agent's AI.
 */
event PerceptionEvent {
	
	val callbackAddress : Address
	
	val perception : HashMap<UUID, AntPerception>
	
	/**
	 * @param callbackAddress : the address to send the influence to
	 * @param perceptionGrid : the collection of perceivable that will be sent to the agent
	 */	
	new(callbackAddress : Address, antPerception : HashMap<UUID, AntPerception>) {
		this.callbackAddress = callbackAddress
		this.perception = antPerception
	}
}